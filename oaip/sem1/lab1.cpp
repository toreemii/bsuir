#include <iostream>
using namespace std;

// Функция для нахождения минимального значения двух чисел
double min(double a, double b) {
    if (a < b) {      
        return a;     
    }
    else {          
        return b;    
    }
}

// Функция для вычисления значения m
double result(double x, double y, double z) {
    // Числитель: находим минимум между (x + y + z) и (x * y * z)
    double numerator;  // Объявляем переменную для числителя
    double sum = x + y + z;  // Сумма x, y и z
    double product = x * y * z;  // Произведение x, y и z

    // Выбираем минимум для числителя
    numerator = min(sum, product);  

    // Знаменатель: находим минимум между (x - y + z) и (x * y / z)
    double denominator;  // Объявляем переменную для знаменателя
    double diff = x - y + z;  // Выражение (x - y + z)
    double quotient = x * y / z;  // Выражение (x * y / z)

    // Выбираем минимум для знаменателя
    denominator = min(diff, quotient);  

    return numerator / denominator;  // Делим числитель на знаменатель и возвращаем результат
}

double safe_input() {
    double value;  // Переменная для хранения введенного значения
    if (!(cin >> value)) {  // Если введено нечисловое значение
        cout << "Ошибка: введено нечисловое значение!" << endl;  // Выводим сообщение об ошибке
        exit(1);  // Завершаем программу с кодом ошибки
    }
    return value;  // Если ошибки нет, возвращаем введенное значение
}

int main() {
    setlocale(LC_ALL, "Russian");
    // Основная программа
    double x, y, z;  // Объявляем переменные для значений x, y и z

    // Запрашиваем у пользователя ввод значений для x, y и z с обработкой ошибок
    cout << "Введите значение x: ";  
    x = safe_input();  // Используем безопасную функцию для ввода

    cout << "Введите значение y: ";  
    y = safe_input();  // Используем безопасную функцию для ввода

    cout << "Введите значение z: ";  
    z = safe_input();  // Используем безопасную функцию для ввода

    // Проверка на деление на ноль
    if (z == 0) {
        cout << "Ошибка: деление на ноль при вычислении (x * y / z)." << endl;
        return 1;  // Завершаем программу с кодом ошибки
    }

    double m = result(x, y, z);  // Вызываем функцию result, передаем ей x, y и z, результат сохраняем в m

    
    cout << "m = " << m << endl;  // Выводим результат m на экран

    return 0;  
}

